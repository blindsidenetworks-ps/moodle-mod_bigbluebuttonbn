define ("mod_bigbluebuttonbn/roomupdater",["exports","core/templates","core/notification","./repository"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.updateRoom=a.stop=a.start=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var e=0,f=1,g=null,h=!1,i=function(){e=0;f=1};a.start=function start(){h=!0;g=setTimeout(function(){return k()},1000)};var j=function(){h=!1;if(g){clearInterval(g);g=null}i()};a.stop=j;var k=function(){if(!h){return}if(0==e%f){l(!0).then(function(){if(f>=10){f=1}else{f++}}).catch().then(function(){g=setTimeout(function(){return k()},1000)}).catch()}},l=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!1,e=document.getElementById("bbb-room-view"),f=e.dataset.bbbId,g=e.dataset.groupId;return(0,d.getMeetingInfo)(f,g,a).then(function(a){a.haspresentations=!1;if(a.presentations&&a.presentations.length){a.haspresentations=!0}return b.default.renderForPromise("mod_bigbluebuttonbn/room_view",a)}).then(function(a){var c=a.html,d=a.js;return b.default.replaceNodeContents(e,c,d)}).catch(c.exception)};a.updateRoom=l});
//# sourceMappingURL=roomupdater.min.js.map
