define ("mod_bigbluebuttonbn/roomupdater",["exports","core/templates","core/notification","./repository"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.updateRoom=a.poll=a.stop=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var e=0,f=1,g=null,h=function(){e=0;f=1},i=function(){if(g){clearInterval(g);g=null}h()};a.stop=i;var j=function(){if(0==e%f){k(!0).then(function(){if(f>=10){f=1}else{f++}}).catch().then(function(){g=setTimeout(function(){return j()},1000)}).catch()}};a.poll=j;var k=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!1,e=document.getElementById("bbb-room-view"),f=e.dataset.bbbId,g=e.dataset.meetingId;return(0,d.getMeetingInfo)(f,g,a).then(function(a){return b.default.renderForPromise("mod_bigbluebuttonbn/room_view",a)}).then(function(a){var c=a.html,d=a.js;return b.default.replaceNodeContents(e,c,d)}).catch(c.exception)};a.updateRoom=k});
//# sourceMappingURL=roomupdater.min.js.map
